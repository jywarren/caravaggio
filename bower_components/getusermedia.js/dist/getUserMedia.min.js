/*! getUserMedia - v0.1.0 - 2012-08-19
* https://github.com/addyosmani/getUserMedia.js
* Copyright (c) 2012 addyosmani; Licensed MIT */
(function(a,b){"use strict",a.getUserMedia=function(c,d,e){if(c!==undefined){navigator.getUserMedia_=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!navigator.getUserMedia_){if(c.noFallback===undefined||c.noFallback===!1){var p,q,r;p='<object id="XwebcamXobjectX" type="application/x-shockwave-flash" data="'+c.swffile+'" width="'+c.width+'" height="'+c.height+'"><param name="movie" value="'+c.swffile+'" /><param name="FlashVars" value="mode='+c.mode+"&amp;quality="+c.quality+'" /><param name="allowScriptAccess" value="always" /></object>',q=b.getElementById(c.el),q.innerHTML=p,function s(f){r=b.getElementById("XwebcamXobjectX"),r.capture!==undefined?(c.capture=function(a){try{return r.capture(a)}catch(b){}},c.save=function(a){try{return r.save(a)}catch(b){}},c.setCamera=function(a){try{return r.setCamera(a)}catch(b){}},c.getCameraList=function(){try{return r.getCameraList()}catch(a){}},c.context="flash",c.onLoad=d):f===0?e():a.setTimeout(s,1e3*(4-f),f-1)}(3)}}else{var f={},g="",h,i,j,k,l,m;c.video===!0&&(f.video=!0,g="video"),c.audio===!0&&(f.audio=!0,g!==""&&(g=g+", "),g=g+"audio"),i=b.getElementById(c.el),j=b.createElement("video"),l=parseInt(i.offsetWidth,10),m=parseInt(i.offsetHeight,10),c.width<l&&c.height<m&&(c.width=l,c.height=m),j.width=c.width,j.height=c.height,j.autoplay=!0,i.appendChild(j),k=j,c.videoEl=k,c.context="webrtc";try{navigator.getUserMedia_(f,d,e)}catch(n){try{navigator.getUserMedia_(g,d,e)}catch(o){return undefined}}}}}})(this,document);